
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Bootstrap 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
   --> 
    <link rel="stylesheet" href="urban_style_1.css">
        <title>FishFinder</title   >
       <link rel="apple-touch-icon" sizes="57x57" href="icon/apple-icon-57x57.png">
            <link rel="apple-touch-icon" sizes="60x60" href="icon/apple-icon-60x60.png">
            <link rel="apple-touch-icon" sizes="72x72" href="icon/apple-icon-72x72.png">
            <link rel="apple-touch-icon" sizes="76x76" href="icon/apple-icon-76x76.png">
            <link rel="apple-touch-icon" sizes="114x114" href="icon/apple-icon-114x114.png">
            <link rel="apple-touch-icon" sizes="120x120" href="icon/apple-icon-120x120.png">
            <link rel="apple-touch-icon" sizes="144x144" href="icon/apple-icon-144x144.png">
            <link rel="apple-touch-icon" sizes="152x152" href="icon/apple-icon-152x152.png">
            <link rel="apple-touch-icon" sizes="180x180" href="icon/apple-icon-180x180.png">
            <link rel="icon" type="image/png" sizes="192x192"  href="icon/android-icon-192x192.png">
            <link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32x32.png">
            <link rel="icon" type="image/png" sizes="96x96" href="icon/favicon-96x96.png">
            <link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16x16.png">
            <link rel="manifest" href="/manifest.json">
            <meta name="msapplication-TileColor" content="#ffffff">
            <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
            <meta name="theme-color" content="#ffffff">
</head>


<body class="body-color-1">
    <!-- turning header off for now 
    <header>
        <nav class="navbar bg-light">
          <div class="container-fluid navi-1">
            <a class="navbar-brand" href="index.html"> <img class="homebutton" src = icon/home2.png with="100"  height="100"> </a>
            <a class="navbar-brand" href="fishquery.html"> FishFinder Tool</a>
            <a class="navbar-brand" href="browse.html">Info</a>
            <a class="navbar-brand" href="images.html">Gallery</a>
            <a class="navbar-brand" href ="https://modestfish.com"> Feedback </a>
            </div>
        </nav>
    </header>
    --> 
    
    <div id = maindiv> 
<h1 id =  "welcome"> Select your attributes to find the ideal freshwater aquarium fish for you! </h1> 

<!--  search parameters summary-->
<div id = "search_pmeters" style = "display: none">
  <p> Search parameters: </p>

  <span> Minimum tank size   </span>  <span id ="p_tanksize"> </span> <br>
  <span> Temperature range   </span>  <span id ="p_temp">     </span> <br>
  <span> Keeping difficult:   </span>  <span id ="p_hardiness"></span> <br>  
  <span> Store availability:  </span>  <span id ="p_avail">    </span> <br>
  <span> Social behavior:     </span>  <span id ="p_social">   </span> <br>
  <span> Agression level:     </span>  <span id ="p_agression"></span> <br>
  <span> Breeding difficulty: </span>  <span id ="p_breeding"> </span> <br>

  <br>
 </div>        

<!-- search parameters summary -->


        
<span id = "search_restart" style = "display: none"> Click here to start another search </span>
        
<form action="" id = "main_form">
     <!-- Tank size --> 

    
<label for="" class = "parameter"> Minimum tank size: </label>
<input style="width:55px" value="75" type="number" id="tank_size" name="">
<span id = size> Liter </span>
<br>
<button type = button  id = switch_lg class = switcher> Use Gallon </button>
<span id = "tank_size_alert" class = "number_alerts"> "Tank size too small. At least " </

<br>
<br> 
 <!-- Tank size --> 
    
<!-- Here hardiness --> 
  
   <label for="" class = "parameter" id = "difficulty">Keeping difficulty</label><br>

  <label for="" id="all_1">select all</label>
   <br>
    
   <input type="checkbox" id="beginner" name="">
   <label for="">Beginner</label>
   <br>
   <input type="checkbox" id="easy" name="">
   <label for="">Easy</label>
   <br>
   <input type="checkbox" id="medium" name="">
   <label for="">Medium</label>
   <br> 
   <input type="checkbox" id="difficult" name="">
   <label for="">Difficult</label>
   <br> 
   <br>

<!-- Here hardiness --> 
    
<!-- Here store availability --> 
    
   <label for="" class = "parameter" id = "availabilty" >Store availability</label><br>

   <label for="" id="all_2">select all</label>
   <br>
    
   <input type="checkbox" id="verycommon" name="">
    <label for="">Very common</label>
   <br>
   <input type="checkbox" id="common" name="">
   <label for="">Common</label>
   <br>
   <input type="checkbox" id="rare" name="">
   <label for="">Rare</label>
   <br> 
   <input type="checkbox" id="veryrare" name="">
   <label for="">Very rare</label>
   <br> 
   <br> 
<!-- Here store availability --> 

<!-- Temperature --> 
    
<label for="" class = "parameter">Minimum temperature: </label> 
   
 <input type="number" style="width:55px" id="tempmin" name="" min="4" max="35" value = "23" />
 <span id = min_t> Celsius </span>
 <br>
<label for="" class = "parameter"> Maximum temperature: </label>   
<input type="number" style="width:55px" id="tempmax" name="" min="4" max="35" value = "26" />
<span id = max_t> Celsius </span>
<br>
<button type = button  id = switch_cf class = switcher > Use Farenheit </button>
<br> 
<br>  
    
 <!-- Temperature --> 
    
 <!-- advanced search options button --> 

 
  <p id = more_options_button> Click here for more search options</p>
  
  <div id = more_options style = "display: none"> 

 <!-- advanced search options nutton -->       

 <!-- Maximum size 
 -- add later -- 
      Maximum size -->
      
 <!-- Behavior --> 
   
    <label for="" class = "parameter" id = "behavior">Social behavior</label><br>

    <label for="" id="all_3">select all</label>
    <br>
      
    <input type="checkbox" id="schooling1" name="">

    <label for="">Needs schooling</label>
    <br>
    <input type="checkbox" id="schooling2" name="">
    <label for=""> Prefers schooling</label>
    <br>
    <input type="checkbox" id="solitary" name="">
    <label for=""> Prefers/accepts solitary life </label>
    <br>
    <br> 

     <!-- Behavior --> 

     <!-- Agression level --> 

    <label for="" class = "parameter" >Agression level</label><br>
    <input type="checkbox" id="peaceful1" name="">
    <label for="">Peaceful</label>
    <br>
    <input type="checkbox" id="peaceful2" name="">
    <label for=""> Might display aggression</label>
    <br>
    <input type="checkbox" id="aggressive" name="">
    <label for="">  Often agressive </label>
    <br>
    <br> 

 <!-- Agression level --> 

 <!-- Breeding difficulty --> 
    
     <label for="" class = "parameter" >Breeding difficulty</label><br>
     <input type="checkbox" id="b_easy" name="" value ="">
     <label for="">Easy</label>
     <br>
     <input type="checkbox" id="b_medium" name="">
     <label for=""> Medium </label>
     <br>
     <input type="checkbox" id="b_hard" name="">
     <label for=""> Hard </label>
     <br> 
     <input type="checkbox" id="impossible" name="">
     <label for=""> Impossible in captivity </label>
     <br>
     <br> 
    
    <!-- Breeding difficulty --> 

    <!-- Origin --> 

    <label for="" class = "parameter" >Geographical origin</label> <br>
    <select name="" id="">      <br> <br> 
    <option value="Brazil">Brazil</option>
    <option value="Peru">Peru</option>
    <option value="Colombia">Colombia</option>

    <!-- Origin -->  
        
    </div>
    
    <br>
    <br> 
  </select>


    
<br>
<br>
</form>

             <!-- fewer search options and search button  --> 
  
    <p id = less_options_button style = "display: none"> Click here for fewer search options</p>
    <br>
        
</div>

    <input type="button" id = "search" value="search" /> 

   <!-- fewer search options and search button  --> 
    
<footer>
</footer>

    <script>

//Declaring variables 
let liter = "Liter";
let gallon = "Gallon"
let use_gallon = "Use Gallon";
let use_liter = "Use Liter";
let celsius = "Celsius";
let farenheit = "Farenheit";
let use_farenheit = "Use Farenheit";
let use_celsius = "Use Celsius";

let console_capacity = liter;
let console_temperature = "Celsius"

let on_search_page = true;
let expanded = false;
let minimum_liter = 20;
let minimum_gallon = 5.3; 


// Starting functions     
all_select_behavior ()


// Adding initial event listeners   
document.getElementById("search").addEventListener("click", search_button);
document.getElementById("search_restart").addEventListener("click", restart_search);
document.getElementById("more_options_button").addEventListener("click", options_expand);        
document.getElementById("less_options_button").addEventListener("click", options_collapse);        
document.getElementById("all_1").addEventListener("click", selectall_1);
document.getElementById("all_2").addEventListener("click", selectall_2);
document.getElementById("all_3").addEventListener("click", selectall_3);
document.getElementById("switch_lg").addEventListener("click", litergallon);   
document.getElementById("switch_cf").addEventListener("click", ctof);
document.getElementById("tank_size").addEventListener("blur", tank_size_check);
document.getElementById("tank_size").addEventListener("keyup", tank_size_check);
document.getElementById("tank_size").addEventListener("click", tank_size_check);
        
document.getElementById("tank_size_alert").style.display = 'none';


// Conversion from liter to gallon [button]         
function litergallon() {
let cal_cap = document.getElementById('tank_size').value;
document.getElementById("size").innerHTML = gallon;
document.getElementById("switch_lg").innerHTML = use_liter;
document.getElementById("switch_lg").removeEventListener("click", litergallon);
document.getElementById("switch_lg").addEventListener("click", gallonliter);
console_capacity = gallon;
document.getElementById('tank_size').value = Math.round((cal_cap * 0.264172)*10)/10;  
}

// Conversion from gallon to liter [button]     
function gallonliter() {
let cal_cap = document.getElementById('tank_size').value;
document.getElementById("size").innerHTML = liter;
document.getElementById("switch_lg").innerHTML = use_gallon;
document.getElementById("switch_lg").removeEventListener("click", gallonliter);
document.getElementById("switch_lg").addEventListener("click", litergallon);
let console_capacity = liter;
document.getElementById('tank_size').value = Math.round((cal_cap * 3.785)*10)/10; 
}

// Conversion from celsius to farenheit [button]      
function ctof() {
let cal_tempmin = document.getElementById('tempmin').value;
let cal_tempmax = document.getElementById('tempmax').value;
document.getElementById("min_t").innerHTML = farenheit;
document.getElementById("max_t").innerHTML = farenheit;
document.getElementById("switch_cf").innerHTML = use_celsius;
document.getElementById("switch_cf").removeEventListener("click", ctof);
document.getElementById("switch_cf").addEventListener("click", ftoc);

console_temperature = "Farenheit"
document.getElementById('tempmin').value = Math.round(((cal_tempmin * 9/5)+32)*10)/10;
document.getElementById('tempmax').value = Math.round(((cal_tempmax * 9/5)+32)*10)/10; 

  }
        
// Conversion from farenheit to celsius [button] 
function ftoc() {
    let cal_tempmin = document.getElementById('tempmin').value;
    let cal_tempmax = document.getElementById('tempmax').value;
    document.getElementById("min_t").innerHTML = celsius;
    document.getElementById("max_t").innerHTML = celsius;
    document.getElementById("switch_cf").innerHTML = use_farenheit;
    document.getElementById("switch_cf").addEventListener("click", ctof);
    document.getElementById("switch_cf").removeEventListener("click", ftoc)

    console_temperature = "Celsius"
    document.getElementById('tempmin').value = Math.round(((cal_tempmin-32)*5/9)*10)/10;
    document.getElementById('tempmax').value = Math.round(((cal_tempmax-32)*5/9)*10)/10;
  }


// Select/deselect all [buttons] 
//1 - Select/deselect all
     function selectall_1 () {
   
           document.getElementById('beginner').checked = true; 
           document.getElementById('easy').checked = true; 
           document.getElementById('medium').checked = true; 
           document.getElementById('difficult').checked = true;
           document.getElementById("all_1").addEventListener("click", deselectall_1);
           document.getElementById("all_1").removeEventListener("click", selectall_1); 
           document.getElementById("all_1").innerHTML = "deselect all";
           
    }
      
    function deselectall_1 () {

           document.getElementById('beginner').checked = false; 
           document.getElementById('easy').checked = false; 
           document.getElementById('medium').checked = false; 
           document.getElementById('difficult').checked = false;
           document.getElementById("all_1").addEventListener("click", selectall_1);
           document.getElementById("all_1").removeEventListener("click", deselectall_1);
           document.getElementById("all_1").innerHTML = "select all";
    }

//2 - Select/deselect all


    function selectall_2 () {
   
   document.getElementById('verycommon').checked = true; 
   document.getElementById('common').checked = true; 
   document.getElementById('rare').checked = true; 
   document.getElementById('veryrare').checked = true;
   document.getElementById("all_2").addEventListener("click", deselectall_2);
   document.getElementById("all_2").removeEventListener("click", selectall_2); 
   document.getElementById("all_2").innerHTML = "deselect all";
   
}

function deselectall_2 () {

   document.getElementById('verycommon').checked = false; 
   document.getElementById('common').checked = false; 
   document.getElementById('rare').checked = false; 
   document.getElementById('veryrare').checked = false;
   document.getElementById("all_2").addEventListener("click", selectall_2);
   document.getElementById("all_2").removeEventListener("click", deselectall_2);
   document.getElementById("all_2").innerHTML = "select all";
}

//3 - Select/deselect all

function selectall_3 () {
   
   all_select_behavior ()
   document.getElementById("all_3").addEventListener("click", deselectall_3);
   document.getElementById("all_3").removeEventListener("click", selectall_3); 
   document.getElementById("all_3").innerHTML = "deselect all";
   
}

function deselectall_3 () {

   all_deselect_behavior () 
   document.getElementById("all_3").addEventListener("click", selectall_3);
   document.getElementById("all_3").removeEventListener("click", deselectall_3);
   document.getElementById("all_3").innerHTML = "select all";
}

        
// Check all checkboxes when advanced options are collapsed 
        
function all_select_behavior () {
   document.getElementById('schooling1').checked = true; 
   document.getElementById('schooling2').checked = true; 
   document.getElementById('solitary').checked = true; 
}


function all_deselect_behavior () {
   document.getElementById('schooling1').checked = false; 
   document.getElementById('schooling2').checked = false; 
   document.getElementById('solitary').checked = false; 
}

        
//////////////////////////////
/// Search button function 
  function search_button() {
     let tempmin = document.getElementById('tempmin').value;
     let tempmax = document.getElementById('tempmax').value; 
      
     let tank_size = document.getElementById('tank_size').value; 

     let beginner = document.getElementById('beginner').checked; 
     let easy = document.getElementById('easy').checked; 
     let medium = document.getElementById('medium').checked; 
     let difficult = document.getElementById('difficult').checked; 

      let verycommon = document.getElementById('verycommon').checked;
      let common = document.getElementById('common').checked;
      let rare = document.getElementById('rare').checked;
      let veryrare = document.getElementById('veryrare').checked;

      let schooling1 = document.getElementById('schooling1').checked;
      let schooling2 = document.getElementById('schooling2').checked;
      let solitary = document.getElementById('solitary').checked;

      let peaceful1 = document.getElementById('peaceful1').checked;
      let peaceful2 = document.getElementById('peaceful2').checked;
      let aggressive = document.getElementById('aggressive').checked;

      let b_easy = document.getElementById('b_easy').checked;
      let b_medium = document.getElementById('b_medium').checked;
      let b_hard = document.getElementById('b_hard').checked;
      let impossible = document.getElementById('impossible').checked;


      let selection_missing;
      let selection_alert = "Some search parameters were not selected: ";
      let selection_alert_arr = []; 

      if (!verycommon && !common && !rare && !veryrare) {
      selection_missing = true;
      document.getElementById('availabilty').classList.add('notselected');
      selection_alert_arr.push ("availability");
    }

    if (!beginner && !easy && !medium && !difficult) {
      selection_missing = true;
      document.getElementById('difficulty').classList.add('notselected');
      selection_alert_arr.push ("difficulty");
    }

     if (!schooling1 && !schooling2 && !solitary) {
      selection_missing = true;
      document.getElementById('behavior').classList.add('notselected');
      selection_alert_arr.push ("behavior");
    }

      

    if ((verycommon || common || rare || veryrare) && (beginner || easy || medium || difficult) && (schooling1 || schooling2 || solitary)) {
      document.getElementById('availabilty').classList.remove('notselected');
      document.getElementById('difficulty').classList.remove('notselected');
      document.getElementById('behavior').classList.remove('notselected');
      selection_missing = false;

    }
      


      if (selection_missing) {
        alert(selection_alert + selection_alert_arr.join(", "));
        return; 
      }
      

      document.getElementById("main_form").style.display = 'none';
      document.getElementById("search_restart").style.display = 'inline-block';
      document.getElementById("search_pmeters").style.display = 'inline-block';


// Adding capacity and temeprature to search paramters summary 

    document.getElementById("p_tanksize").innerHTML = `(${console_capacity}):  ${tank_size}`;
    document.getElementById("p_temp").innerHTML = `(${console_temperature}): ${tempmin} - ${tempmax}`;
  
  // Populating search parameters summary 

      let l_avail = [];
      let l_hardiness = [];
      let l_behavior = [];
      avail_list(l_avail);
      hardiness_list(l_hardiness)
      behavior_list(l_behavior)
  
      document.getElementById("p_avail").innerHTML = l_avail.join(", ");
      document.getElementById("p_hardiness").innerHTML = l_hardiness.join(", ");
      document.getElementById("p_social").innerHTML = l_behavior.join(", ");

  
   // Functions for populating search parameters summary 



  function hardiness_list(x) {

  if (beginner) {
        x.push("beginner");
    }
     
     if (easy) {
      x.push("easy");
    }

     if(medium) {
      x.push("medium");
    }

     if(difficult) {
      x.push("difficult");
    }

    if (beginner && easy && medium && difficult) {
    x.length = 0; 
    x.push("All");
  }

}
      
function avail_list(x) {
  if (verycommon) {
        x.push("very common");
    }
     
      if (common) {
      x.push("common");
    }

    if (rare) {
      x.push("rare");
    }

    if (veryrare) {
      x.push("very rare");
    }

       if (verycommon && common && rare && veryrare) {
    x.length = 0; 
    x.push("All");
  }

}

function behavior_list (x) {
  if (!expanded) {
    x.length = 0; 
    x.push("All");
  }

  if (schooling1) {
    x.push("Needs schooling")
  }

  if (schooling2) {
    x.push("Prefers schooling")
  }

  if (solitary) {
    x.push("Prefers/accepts solitary life")
  }

  if (schooling1 && schooling2 && solitary) {
    x.length = 0; 
    x.push("All");
  }

}

      
 // Expanding/collapsing advanced search options and jumping between search/result pages - part of search_buttton()

      
   document.getElementById("less_options_button").style.display = 'none';
   on_search_page = false;
   checker_1 ()
  }


  
 // Expanding/collapsing advanced search options and jumping between search/result pages (separate functions)   

 function restart_search() {
    on_search_page = true; 
    checker_1 ()

  }

  function options_expand() {
    expanded = true; 
    checker_1 ()
    all_deselect_behavior () 
  }

  function options_collapse() {
    expanded = false; 
    checker_1 ()
    all_select_behavior ()
  }

  function checker_1 () {
    if (on_search_page && !expanded) {
      document.getElementById("main_form").style.display = 'inline-block';
      document.getElementById("search_restart").style.display = 'none';
      document.getElementById("search_pmeters").style.display = 'none';
      document.getElementById("more_options_button").style.display = 'inline-block';
      document.getElementById("more_options").style.display = 'none';
      document.getElementById("less_options_button").style.display = 'none';
      document.getElementById("search").style.display = 'inline-block';  
    }

    if (on_search_page && expanded) {
      document.getElementById("main_form").style.display = 'inline-block';
      document.getElementById("search_restart").style.display = 'none';
      document.getElementById("search_pmeters").style.display = 'none';
      document.getElementById("more_options_button").style.display = 'none';
      document.getElementById("more_options").style.display = 'inline-block';
      document.getElementById("less_options_button").style.display = 'inline-block';
      document.getElementById("search").style.display = 'inline-block';  
    }

    if ((!on_search_page && expanded) || (!on_search_page && !expanded)) {
      document.getElementById("main_form").style.display = 'none';
      document.getElementById("search_restart").style.display = 'inline-block';
      document.getElementById("search_pmeters").style.display = 'inline-block';
      document.getElementById("more_options_button").style.display = 'none';
      document.getElementById("more_options").style.display = 'none';
      document.getElementById("less_options_button").style.display = 'none';
      document.getElementById("search").style.display = 'none';
        
  }
  } 


//Checking tank size before submission (shouldn't be too small)
  function tank_size_check () {
  let tank_size_alert = document.getElementById("tank_size_alert");
  let tank_size = document.getElementById('tank_size').value;  

    if ((tank_size < 20) && (console_capacity === liter)) {
      tank_size_alert.innerHTML = "Tank size too small. At least " + minimum_liter + console_capacity;
      tank_size_alert.style.display = 'inline-block';
    } 

    if ((tank_size < 5.3) && (console_capacity === gallon)) {
      tank_size_alert.innerHTML = "Tank size too small. At least " + minimum_gallon + console_capacity;
      tank_size_alert.style.display = 'inline-block';
    }

    if (((tank_size >= 20) && (console_capacity === liter)) || ((tank_size >= 5.3) && (console_capacity === gallon))) {
      tank_size_alert.style.display = 'none';
    }

  }



        
  </script>
<!-- useful links JS etc.
    
    https://www.javascripttutorial.net/javascript-dom/javascript-checkbox/
    
useful links JS etc. --> 

    
</body>
</html>

